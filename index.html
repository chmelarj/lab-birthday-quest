<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Heroes‚ÄØIII ‚Äì Quiz Quest</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* -------------------------------------------------------------
   BASIC PALETTE (Heroes‚ÄØIII look)
   ------------------------------------------------------------- */
:root{
    --h3-gold          : #d4af37;
    --h3-gold-dark     : #aa8c2c;
    --h3-green         : #1e592d;
    --h3-green-light   : #3a8c4d;
    --h3-blue          : #1a2a4a;
    --h3-text          : #f0e6d2;
    --h3-red           : #8a1c1c;
}

/* -------------------------------------------------------------
   GLOBAL SETTINGS
   ------------------------------------------------------------- */
*{ box-sizing:border-box; margin:0; padding:0; }
body{
    font-family:'Times New Roman',serif;
    background:#0a0a0a;
    background-image:
        radial-gradient(#1a1a1a 1px,transparent 1px),
        radial-gradient(#1a1a1a 1px,transparent 1px);
    background-size:20px 20px;
    background-position:0 0,10px 10px;
    color:var(--h3-text);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
}

/* -------------------------------------------------------------
   MAIN GAME CONTAINER (parchment + double‚Äëgold border)
   ------------------------------------------------------------- */
.game-container{
    width:100%;
    max-width:800px;
    background:linear-gradient(135deg,#2c1e10 0%,#1a120a 100%);
    border:8px double var(--h3-gold);
    border-radius:10px;
    padding:30px;
    box-shadow:
        0 0 20px rgba(212,175,55,.3),
        inset 0 0 30px rgba(0,0,0,.8);
    position:relative;
}
.game-container::before{
    content:'';
    position:absolute;
    inset:-12px;
    border:4px solid var(--h3-green);
    border-radius:15px;
    z-index:-1;
}

/* -------------------------------------------------------------
   HEADER / TITLE
   ------------------------------------------------------------- */
header{
    text-align:center;
    margin-bottom:30px;
    border-bottom:3px solid var(--h3-gold);
    padding-bottom:20px;
}
h1{
    font-family:'Playfair Display',serif;
    font-size:3rem;
    color:var(--h3-gold);
    text-shadow:
        2px 2px 4px rgba(0,0,0,.8),
        3px 3px 0 var(--h3-gold-dark);
    letter-spacing:2px;
}
.subtitle{
    font-size:1.2rem;
    color:var(--h3-gold);
    margin-top:5px;
}

/* -------------------------------------------------------------
   GOLD COUNTER (flavour only)
   ------------------------------------------------------------- */
.gold-counter{
    position:absolute;
    top:15px; right:20px;
    display:flex;
    align-items:center;
    gap:8px;
    font-size:1.3rem;
    color:var(--h3-gold);
}

/* -------------------------------------------------------------
   QUEST WINDOW (parchment‚Äëstyle box)
   ------------------------------------------------------------- */
.quest-container{
    background:#2a1b0f;
    border:3px solid var(--h3-gold-dark);
    padding:25px;
    border-radius:8px;
    min-height:260px;
}
.quest-text{
    font-size:1.2rem;
    line-height:1.8;
    margin-bottom:20px;
    font-weight:bold;
}
input{
    width:100%;
    padding:12px;
    font-size:20px;
    font-family:'Times New Roman',serif;
    text-align:center;
    border:3px solid #5c4033;
    border-top-color:#fff;
    border-left-color:#fff;
    border-right-color:#5c4033;
    border-bottom-color:#5c4033;
    box-shadow:2px 2px 4px rgba(0,0,0,.3);
    background:#fff;
}
input:focus{
    outline:none;
    box-shadow:0 0 0 3px rgba(44,90,160,.3), inset 2px 2px 4px rgba(0,0,0,.2);
}

/* -------------------------------------------------------------
   HEROES‚ÄëIII‚ÄëLIKE BUTTONS
   ------------------------------------------------------------- */
.btn{
    display:block;
    width:100%;
    padding:12px;
    margin-top:12px;
    font-size:18px;
    font-weight:bold;
    text-transform:uppercase;
    cursor:pointer;
    background:#e0e0e0;
    border-top:3px solid #fff;
    border-left:3px solid #fff;
    border-right:3px solid #5c4033;
    border-bottom:3px solid #5c4033;
    color:#000;
    box-shadow:3px 3px 5px rgba(0,0,0,.4);
    transition:.1s;
}
.btn:hover{
    background:#f0f0f0;
    transform:translate(-1px,-1px);
}
.btn:active{
    border-top:3px solid #5c4033;
    border-left:3px solid #5c4033;
    border-right:3px solid #fff;
    border-bottom:3px solid #fff;
    box-shadow:inset 2px 2px 5px rgba(0,0,0,.5);
    transform:translate(2px,2px);
}

/* colour variants */
.btn-start   {background:#6ab04b; color:#fff; border-top-color:#9be679; border-left-color:#9be679; border-right-color:#2e5c1f; border-bottom-color:#2e5c1f;}
.btn-start:hover   {background:#7bc05b;}
.btn-check   {background:#e74c3c; color:#fff; border-top-color:#ec7063; border-left-color:#ec7063; border-right-color:#7c261d; border-bottom-color:#7c261d;}
.btn-check:hover   {background:#f05d4e;}
.btn-restart {background:#3498db; color:#fff; border-top-color:#5dade2; border-left-color:#5dade2; border-right-color:#1f6391; border-bottom-color:#1f6391;}
.btn-restart:hover {background:#5dade2;}

/* -------------------------------------------------------------
   FEEDBACK TEXT
   ------------------------------------------------------------- */
#feedback-msg,
#map-feedback-msg{
    margin-top:15px;
    font-size:22px;
    font-weight:bold;
    min-height:30px;
}
.msg-correct{color:var(--h3-green);  text-shadow:1px 1px 0 #fff;}
.msg-wrong  {color:var(--h3-red);    text-shadow:1px 1px 0 #fff;}

/* -------------------------------------------------------------
   END SCREEN (victory)
   ------------------------------------------------------------- */
.ending{
    text-align:center;
    padding:20px;
    border:2px dashed var(--h3-gold);
    border-radius:8px;
    margin-top:20px;
}
.ending h2{color:var(--h3-gold); font-size:2rem; margin-bottom:15px;}

/* -------------------------------------------------------------
   MAP QUESTION (final ‚Äúquestion‚Äù)
   ------------------------------------------------------------- */
.map-question{
    background:#2a1b0f;
    border:3px solid var(--h3-gold-dark);
    border-radius:8px;
    padding:25px;
    margin-top:20px;
    text-align:center;
}
.map-question img{
    width:100%;               /* fills the whole inner width of the container */
    max-width:100%;
    border:3px solid var(--h3-gold);
    border-radius:5px;
    margin-top:15px;
}

/* hide / show helpers */
.hidden{display:none !important;}
.visible{animation:fadeIn .5s ease;}
@keyframes fadeIn{from{opacity:0;transform:scale(.9);}to{opacity:1;transform:scale(1);}}
</style>
</head>

<body>
<div class="game-container">

    <!-- ---------- HEADER ---------- -->
    <header>
        <h1 class="gold-text">The Quest Begins</h1>
        <p class="subtitle">Heroes of Might & Magic III ‚Äì Birthday Edition</p>
    </header>

    <!-- ---------- GOLD COUNTER (flavour) ---------- -->
    <div class="gold-counter"><span>üí∞</span><span id="gold">0</span></div>

    <!-- ---------- LANDING PAGE ---------- -->
    <div id="landing-page" class="quest-container">
        <div class="quest-text">
            V√≠tej dobrodru≈æn√° Pe≈•o! Na≈°e alchymistick√° d√≠lna pot≈ôebuje Tvoji pomoc. Jsme r√°di, ≈æe se dobrovolnƒõ hl√°s√≠≈° do tohoto dobrodru≈æn√©ho ta≈æen√≠! Neot√°lejme, m√°m pro tebe prvn√≠ √∫kol!
        </div>
        <button class="btn btn-start" onclick="startQuiz()">Start Quest</button>
    </div>

    <!-- ---------- QUIZ SECTION ---------- -->
    <div id="quiz-section" class="quest-container hidden">
        <div class="quest-text" id="q-text">Loading‚Ä¶</div>
        <input type="text" id="user-input" placeholder="Your answer‚Ä¶" autocomplete="off">
        <button class="btn btn-check" onclick="checkAnswer()">Confirm</button>
        <p id="feedback-msg"></p>
    </div>

    <!-- ---------- MAP QUESTION (appears after the last answer) ---------- -->
    <div id="map-question" class="map-question hidden">
        <h2 class="gold-text">The Treasure Map</h2>
        <p class="quest-text">The final clue is a map that leads to the hidden gold.</p>

        <!-- map image (fills the container width) -->
        <img src="background.png" alt="Treasure map">

        <!-- NEW INPUT for the secret code -->
        <input type="text" id="map-input" placeholder="Values‚Ä¶" autocomplete="off">

        <!-- button to validate the secret code -->
        <button class="btn btn-check" onclick="checkMapAnswer()">Confirm Treasure</button>

        <!-- feedback for the code -->
        <p id="map-feedback-msg"></p>
    </div>

    <!-- ---------- END SCREEN (Victory) ---------- -->
    <div id="end-screen" class="quest-container hidden">
        <div class="ending">
            <h2 class="gold-text">Victory!</h2>
            <p>You have completed the quest.</p>
            <p id="final-gold" style="color:var(--h3-gold);font-size:1.4rem;font-weight:bold;"></p>
            <button class="btn btn-restart" onclick="restartQuiz()">Play Again</button>
        </div>
    </div>

</div>   <!-- end .game-container -->

<script>
/* ---------------------- QUIZ DATA ---------------------- */
const questions = [
    { q:"Troglodyti ze z√°padn√≠ch datov√Ωch √∫val≈Ø nemaj√≠ r√°di svƒõtlo. Za≈ôiƒè pros√≠m a≈• maj√≠ p≈ô√≠tm√≠. Pokud p≈ôi tomto dobrodru≈æstv√≠ naraz√≠≈° na nƒõco zaj√≠mav√©ho, urƒçitƒõ n√°m dej vƒõdƒõt, co to je"            , a:"V≈°echno nejlep≈°√≠!" /*tzn n√°pis na ≈æaluzi√≠ch*/          },
    { q:"Jak jistƒõ v√≠≈°, v na≈°√≠ alchymistick√© d√≠lnƒõ pob√Ωv√° tak√© m√°g, jeho≈æ znalosti jsou bezb≈ôeh√© a mƒõla jsi ƒçest nauƒçit se nƒõkter√Ωm jeho kouzl≈Øm. Spoƒç√≠tej n√°m pros√≠m, kolik k nƒõmu vede schod≈Ø"        , a:"47"      },
    { q:"V m√≠stnosti na pl√°nov√°n√≠ v√°leƒçn√Ωch ta≈æen√≠ je pro tebe uschov√°na ≈°ifra, vy≈ôe≈° ji pros√≠m"   , a:"2*(7+7-2)"       },
    { q:"N√°≈° vojev≈Ødce m√° ve sv√©m √∫toƒçi≈°ti artefakt, jakousi futuristickou vƒõc, nejsp√≠≈°e zobrazuj√≠c√≠ dopravn√≠ prost≈ôedek budoucnosti, kter√Ω mu zlep≈°uje jeho logistick√© schopnosti. ≈òekni n√°m barvu tohoto artefaktu."          , a:"ƒçerven√°"       },
    { q:"V p≈ô√≠pravnƒõ j√≠del a n√°poj≈Ø jsou velmi hluƒçn√© futuristick√© p≈ô√≠stroje. Prohl√©dni je od nejti≈°≈°√≠ho po nejhluƒçnƒõj≈°√≠ a vy≈ôe≈° ≈°ifru."           , a:"tbd"          },
    { q:"Kl√≠ƒç k dal≈°√≠mu √∫kolu se nach√°z√≠ na vyznaƒçen√©m m√≠stƒõ na mapce"           , a:"tbd"          } 
         /* zad√°n√≠ samotn√© bysme mohli d√°t k laboratorn√≠mu setu do kanclu naproti a mohlo by b√Ωt nƒõco jako: Alchymistky v podzem√≠ pot≈ôebuj√≠ tvou pomoc. Je pot≈ôeba otestovat mocn√Ω p≈ô√≠stroj jm√©nem Sysmex, zda dok√°≈æe zmƒõ≈ôit i vzorek fale≈°n√© krve. Pros√≠m p≈ôiprav a zanes jim ho, ony ti pot√© daj√≠ vƒõdƒõt v√Ωsledek mƒõ≈ôen√≠ */
];

let curIdx = 0;          // current question index
let gold   = 0;          // accumulated gold

/* ---------------------- UI HELPERS ---------------------- */
function $(id){ return document.getElementById(id); }

/* ---------------------- START QUIZ ---------------------- */
function startQuiz(){
    gold = 0;
    curIdx = 0;
    $('gold').textContent = gold;

    $('landing-page').classList.add('hidden');
    $('quiz-section').classList.remove('hidden');
    $('quiz-section').classList.add('visible');

    loadQuestion();
}

/* ---------------------- LOAD QUESTION ---------------------- */
function loadQuestion(){
    const q = questions[curIdx];
    $('q-text').innerText = q.q;
    $('user-input').value = "";
    $('feedback-msg').textContent = "";
    $('user-input').focus();
}

/* ---------------------- CHECK ANSWER (regular questions) ---------------------- */
function checkAnswer(){
    const answer = $('user-input').value.trim().toLowerCase();
    if(answer === "") return;                 // ignore empty

    const correct = questions[curIdx].a.toLowerCase();
    const feedback = $('feedback-msg');
    feedback.className = "";                  // reset colour

    if(answer === correct){
        feedback.textContent = "Correct!";
        feedback.classList.add('msg-correct');

        gold += 100;                          // simple reward
        $('gold').textContent = gold;

        setTimeout(()=> {
            curIdx++;
            if(curIdx < questions.length){
                loadQuestion();
            }else{
                /* All ordinary questions answered ‚Äì show the MAP screen */
                $('quiz-section').classList.add('hidden');
                $('map-question').classList.remove('hidden');
                $('map-question').classList.add('visible');
                $('map-input').focus();
            }
        }, 800);
    }else{
        feedback.textContent = "Incorrect ‚Äì try again.";
        feedback.classList.add('msg-wrong');
        $('user-input').select();
    }
}

/* ---------------------- CHECK MAP CODE ---------------------- */
function checkMapAnswer(){
    const code = $('map-input').value.trim();
    const feedback = $('map-feedback-msg');
    feedback.className = "";                       // reset colours

    if(code === "123456"){
        feedback.textContent = "Correct code!";
        feedback.classList.add('msg-correct');
        // you could give extra gold here if you want, e.g. gold+=200;
        setTimeout(showVictory, 800);
    }else{
        feedback.textContent = "Wrong code. Try again.";
        feedback.classList.add('msg-wrong');
        $('map-input').select();
    }
}

/* ---------------------- SHOW VICTORY ---------------------- */
function showVictory(){
    $('map-question').classList.add('hidden');
    $('end-screen').classList.remove('hidden');
    $('end-screen').classList.add('visible');
    $('final-gold').textContent = `Gold Collected: ${gold}`;
}

/* ---------------------- RESTART ---------------------- */
function restartQuiz(){
    $('end-screen').classList.add('hidden');
    $('landing-page').classList.remove('hidden');
    $('landing-page').classList.add('visible');
}

/* ---------------------- ENTER‚ÄëKEY SUPPORT ---------------------- */
$('user-input').addEventListener('keypress',e=>{
    if(e.key === "Enter") checkAnswer();
});
$('map-input').addEventListener('keypress',e=>{
    if(e.key === "Enter") checkMapAnswer();
});
</script>
</body>
</html>
